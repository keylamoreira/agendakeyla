<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agenda Interativa Anual</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 p-6 font-sans">
  <header class="mb-6">
    <h1 class="text-3xl font-bold text-center text-gray-800">üìÖ Agenda Interativa Anual</h1>
    <p class="text-center text-gray-600">Atualizado em 07/08/2025</p>
  </header>

  <section class="mb-8">
    <h2 class="text-xl font-semibold text-gray-700 mb-2">üîó Eventos com Links</h2>
    <table class="min-w-full bg-white text-sm shadow-md rounded">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-4 py-2 text-left">Data</th>
          <th class="px-4 py-2 text-left">Atividade</th>
          <th class="px-4 py-2 text-left">Link</th>
        </tr>
      </thead>
      <tbody class="divide-y">
        <tr><td class="px-4 py-2">27/09/2025</td><td class="px-4 py-2">Casamento Isadora e Pedro</td><td class="px-4 py-2"><a href="http://www.isadoraepedro.com/" class="text-blue-600 hover:underline">Site</a></td></tr>
        <tr><td class="px-4 py-2">27/09/2025</td><td class="px-4 py-2">Local do Casamento</td><td class="px-4 py-2"><a href="https://maps.app.goo.gl/Nx1Ud8d7qEaxkLpDA" class="text-blue-600 hover:underline">Mapa</a></td></tr>
      </tbody>
    </table>
  </section>

  <section class="space-y-12">
    <h2 class="text-2xl font-semibold text-gray-700 mb-4">üóìÔ∏è Agenda Mensal</h2>

    <!-- M√™s: Mar√ßo 2025 -->
<div>
  <h3 class="text-lg font-bold text-gray-700 mb-2">Mar√ßo 2025</h3>
  <table class="min-w-full text-sm bg-white shadow-md rounded">
    <thead class="bg-gray-100">
      <tr>
        <th class="px-4 py-2 text-left">Data</th>
        <th class="px-4 py-2 text-left">Tipo</th>
        <th class="px-4 py-2 text-left">Atividade</th>
        <th class="px-4 py-2 text-left">Prioridade</th>
        <th class="px-4 py-2 text-left">Status</th>
        <th class="px-4 py-2 text-left">Localiza√ß√£o</th>
        <th class="px-4 py-2 text-left">Notas</th>
      </tr>
    </thead>
    <tbody class="divide-y">
      <tr>
        <td class="px-4 py-2">28/03/2025</td>
        <td class="px-4 py-2">Trabalho</td>
        <td class="px-4 py-2">EPROC DAY</td>
        <td class="px-4 py-2">M√©dia</td>
        <td class="px-4 py-2">Conclu√≠da</td>
        <td class="px-4 py-2">Audit√≥rio da SSP, Florian√≥polis</td>
        <td class="px-4 py-2">Certificado</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- M√™s: Maio 2025 -->
<div>
  <h3 class="text-lg font-bold text-gray-700 mb-2 mt-8">Maio 2025</h3>
  <table class="min-w-full text-sm bg-white shadow-md rounded">
    <tbody class="divide-y">
      <tr>
        <td class="px-4 py-2">25/05/2025</td>
        <td class="px-4 py-2">Pessoal</td>
        <td class="px-4 py-2">Espet√°culo "Cena Morta"</td>
        <td class="px-4 py-2">M√©dia</td>
        <td class="px-4 py-2">Conclu√≠da</td>
        <td class="px-4 py-2">Teatro SAEM, S√£o Jos√©</td>
        <td class="px-4 py-2">Persona Cia de Teatro</td>
      </tr>
      <tr>
        <td class="px-4 py-2">30/05/2025</td>
        <td class="px-4 py-2">Pessoal</td>
        <td class="px-4 py-2">Show do Nego Joe</td>
        <td class="px-4 py-2">M√©dia</td>
        <td class="px-4 py-2">Conclu√≠da</td>
        <td class="px-4 py-2">Balb√∫rdia Floripa</td>
        <td class="px-4 py-2"></td>
      </tr>
    </tbody>
  </table>
</div>

<!-- M√™s: Junho 2025 -->
<div>
  <h3 class="text-lg font-bold text-gray-700 mb-2 mt-8">Junho 2025</h3>
  <table class="min-w-full text-sm bg-white shadow-md rounded">
    <tbody class="divide-y">
      <tr>
        <td class="px-4 py-2">17/06/2025</td>
        <td class="px-4 py-2">Trabalho</td>
        <td class="px-4 py-2">III Encontro de Gest√£o de Processos</td>
        <td class="px-4 py-2">M√©dia</td>
        <td class="px-4 py-2">Conclu√≠da</td>
        <td class="px-4 py-2">SC-401, 9301 ‚Äì Florian√≥polis</td>
        <td class="px-4 py-2">Certificado</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- M√™s: Agosto 2025 -->
<div>
  <h3 class="text-lg font-bold text-gray-700 mb-2 mt-8">Agosto 2025</h3>
  <table class="min-w-full text-sm bg-white shadow-md rounded">
    <tbody class="divide-y">
      <tr>
        <td class="px-4 py-2">05/08/2025</td>
        <td class="px-4 py-2">Trabalho</td>
        <td class="px-4 py-2">Suporte SEPLAN 16h</td>
        <td class="px-4 py-2">M√©dia</td>
        <td class="px-4 py-2">Conclu√≠da</td>
        <td class="px-4 py-2"></td>
        <td class="px-4 py-2">Com Marciele e especialistas</td>
      </tr>
      <tr>
        <td class="px-4 py-2">07/08/2025</td>
        <td class="px-4 py-2">Trabalho</td>
        <td class="px-4 py-2">Reuni√£o com Medicina Veterin√°ria e Pol√≠cia Cient√≠fica</td>
        <td class="px-4 py-2">M√©dia</td>
        <td class="px-4 py-2">Conclu√≠da</td>
        <td class="px-4 py-2"></td>
        <td class="px-4 py-2"></td>
      </tr>
    </tbody>
  </table>
</div>

<!-- M√™s: Setembro 2025 -->
<div>
  <h3 class="text-lg font-bold text-gray-700 mb-2 mt-8">Setembro 2025</h3>
  <table class="min-w-full text-sm bg-white shadow-md rounded">
    <tbody class="divide-y">
      <tr>
        <td class="px-4 py-2">26/09/2025</td>
        <td class="px-4 py-2">Pessoal</td>
        <td class="px-4 py-2">Viagem Curitiba (Airbnb)</td>
        <td class="px-4 py-2">M√©dia</td>
        <td class="px-4 py-2">Confirmada</td>
        <td class="px-4 py-2">Rua Dr. Pedrosa, 313</td>
        <td class="px-4 py-2">Check-in 16h</td>
      </tr>
      <tr>
        <td class="px-4 py-2">27/09/2025</td>
        <td class="px-4 py-2">Pessoal</td>
        <td class="px-4 py-2">Casamento Isadora e Pedro</td>
        <td class="px-4 py-2">Alta</td>
        <td class="px-4 py-2">Confirmada</td>
        <td class="px-4 py-2">Curitiba, PR</td>
        <td class="px-4 py-2">Ver links acima</td>
      </tr>
      <tr>
        <td class="px-4 py-2">29/09/2025</td>
        <td class="px-4 py-2">Pessoal</td>
        <td class="px-4 py-2">Retorno da viagem</td>
        <td class="px-4 py-2">M√©dia</td>
        <td class="px-4 py-2">Confirmada</td>
        <td class="px-4 py-2">Curitiba, PR</td>
        <td class="px-4 py-2">Check-out 10h</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Aqui entram os blocos por m√™s que iremos incluir progressivamente -->

    <p class="text-gray-600">(Os eventos de Mar√ßo, Maio, Junho, Agosto e Setembro est√£o prontos. Deseja que eu preencha aqui tamb√©m?)</p>
  </section>
<script>
async function loadEvents() {
  const list = document.getElementById('event-list');
  if (!list) return;

  // Mensagem inicial (evita tela "parada" em conex√µes lentas)
  list.innerHTML = '<li class="text-gray-500">Carregando eventos‚Ä¶</li>';

  try {
    const res = await fetch('./data/events.json', { cache: 'no-store' });
    if (!res.ok) throw new Error('N√£o foi poss√≠vel carregar o arquivo events.json');
    const data = await res.json();

    const events = Array.isArray(data) ? data : [];
    if (!events.length) {
      list.innerHTML = '<li class="text-gray-500">Nenhum evento registrado ainda.</li>';
      return;
    }

    // Ordena por data de in√≠cio (crescente)
    events.sort((a, b) => new Date(a.start) - new Date(b.start));

    // Formata√ß√£o de data/hora em pt-BR
    const fmt = new Intl.DateTimeFormat('pt-BR', {
      day: '2-digit', month: '2-digit', year: 'numeric',
      hour: '2-digit', minute: '2-digit'
    });

    // Renderiza
    list.innerHTML = '';
    for (const ev of events) {
      const start = ev.start ? fmt.format(new Date(ev.start)) : '‚Äî';
      const end = ev.end ? fmt.format(new Date(ev.end)) : null;
      const status = (ev.status || 'planned'); // planned | done | canceled
      const badge =
        status === 'done' ? 'bg-green-100 text-green-700' :
        status === 'canceled' ? 'bg-red-100 text-red-700' :
        'bg-blue-100 text-blue-700';

      const li = document.createElement('li');
      li.className = 'bg-white p-3 rounded shadow flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2';

      li.innerHTML = `
        <div>
          <div class="font-medium text-gray-800">${ev.title || '(Sem t√≠tulo)'}</div>
          <div class="text-sm text-gray-600">
            ${start}${end ? ' ‚Äî ' + end : ''}${ev.location ? ' ‚Ä¢ ' + ev.location : ''}
          </div>
          ${ev.notes ? `<div class="text-sm text-gray-500 mt-1">${ev.notes}</div>` : ''}
        </div>
        <span class="self-start sm:self-auto px-2 py-1 rounded text-xs ${badge}">
          ${status === 'done' ? 'Conclu√≠do' : status === 'canceled' ? 'Cancelado' : 'Planejado'}
        </span>
      `;
      list.appendChild(li);
    }
  } catch (err) {
    console.error(err);
    list.innerHTML = '<li class="text-red-600">Erro ao carregar os eventos. Verifique se o arquivo <code>data/events.json</code> existe e est√° v√°lido.</li>';
  }
}

loadEvents();
</script>

<ul id="event-list"></ul>
</body>
</html>
